(()=>{var e={};e.id=6498,e.ids=[6498],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10041:(e,t,s)=>{Promise.resolve().then(s.bind(s,56058))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18214:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,pages:()=>u,routeModule:()=>d,tree:()=>c});var r=s(65239),i=s(48088),n=s(88170),a=s.n(n),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c={children:["",{children:["ai-analysis",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,33124)),"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/ai-analysis/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,36074)),"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/ai-analysis/page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},d=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/ai-analysis/page",pathname:"/ai-analysis",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20375:(e,t,s)=>{Promise.resolve().then(s.bind(s,61697))},25541:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33124:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/ai-analysis/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/ai-analysis/page.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},36074:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(37413),i=s(53384);function n(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute right-0 top-0 -z-1 w-full max-w-[250px] xl:max-w-[450px]",children:(0,r.jsx)(i.default,{width:540,height:254,src:"/images/shape/grid-01.svg",alt:"grid"})}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 -z-1 w-full max-w-[250px] rotate-180 xl:max-w-[450px]",children:(0,r.jsx)(i.default,{width:540,height:254,src:"/images/shape/grid-01.svg",alt:"grid"})})]})}s(61120);var a=s(4536),l=s.n(a);function o(){return(0,r.jsxs)("div",{className:"relative flex flex-col items-center justify-center min-h-screen p-6 overflow-hidden z-1",children:[(0,r.jsx)(n,{}),(0,r.jsxs)("div",{className:"mx-auto w-full max-w-[242px] text-center sm:max-w-[472px]",children:[(0,r.jsx)("h1",{className:"mb-8 font-bold text-gray-800 text-title-md dark:text-white/90 xl:text-title-2xl",children:"ERROR"}),(0,r.jsx)(i.default,{src:"/images/error/404.svg",alt:"404",className:"dark:hidden",width:472,height:152}),(0,r.jsx)(i.default,{src:"/images/error/404-dark.svg",alt:"404",className:"hidden dark:block",width:472,height:152}),(0,r.jsx)("p",{className:"mt-10 mb-6 text-base text-gray-700 dark:text-gray-400 sm:text-lg",children:"We can’t seem to find the page you are looking for!"}),(0,r.jsx)(l(),{href:"/",className:"inline-flex items-center justify-center rounded-lg border border-gray-300 bg-white px-5 py-3.5 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:"Back to Home Page"})]}),(0,r.jsxs)("p",{className:"absolute text-sm text-center text-gray-500 -translate-x-1/2 bottom-6 left-1/2 dark:text-gray-400",children:["\xa9 ",new Date().getFullYear()," - Relieflink"]})]})}},36216:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,16444,23)),Promise.resolve().then(s.t.bind(s,16042,23)),Promise.resolve().then(s.t.bind(s,88170,23)),Promise.resolve().then(s.t.bind(s,49477,23)),Promise.resolve().then(s.t.bind(s,29345,23)),Promise.resolve().then(s.t.bind(s,12089,23)),Promise.resolve().then(s.t.bind(s,46577,23)),Promise.resolve().then(s.t.bind(s,31307,23))},36657:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,85814,23)),Promise.resolve().then(s.t.bind(s,46533,23))},39417:(e,t,s)=>{Promise.resolve().then(s.bind(s,61071))},45944:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,86346,23)),Promise.resolve().then(s.t.bind(s,27924,23)),Promise.resolve().then(s.t.bind(s,35656,23)),Promise.resolve().then(s.t.bind(s,40099,23)),Promise.resolve().then(s.t.bind(s,38243,23)),Promise.resolve().then(s.t.bind(s,28827,23)),Promise.resolve().then(s.t.bind(s,62763,23)),Promise.resolve().then(s.t.bind(s,97173,23))},53411:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},55153:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4536,23)),Promise.resolve().then(s.t.bind(s,49603,23))},56058:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(60687),i=s(76713),n=s(39091),a=s(8693),l=s(43210);function o({children:e}){let[t]=(0,l.useState)(()=>new n.E({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1}}}));return(0,r.jsx)(a.Ht,{client:t,children:e})}function c({children:e}){return(0,r.jsx)(i.t,{children:(0,r.jsx)(o,{children:e})})}},61071:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/providers/ClientProviders.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/providers/ClientProviders.tsx","default")},61135:()=>{},61697:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var r=s(60687),i=s(43210),n=s(65406),a=s(33465),l=s(35536),o=s(31212),c=class extends l.Q{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.EN)(t.mutationKey)!==(0,o.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#i(),this.#n()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#i(){let e=this.#s?.state??(0,n.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){a.jG.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s,r),this.#r.onSettled?.(e.data,null,t,s,r)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s,r),this.#r.onSettled?.(void 0,e.error,t,s,r))}this.listeners.forEach(e=>{e(this.#t)})})}},u=s(8693),h=s(39850),d=s(61489),p=s(73458),m=s(37340),x=class extends l.Q{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#l=(0,p.T)(),this.bindMethods(),this.setOptions(t)}#e;#o=void 0;#c=void 0;#t=void 0;#u;#h;#l;#a;#d;#p;#m;#x;#g;#b;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#o.addObserver(this),g(this.#o,this.options)?this.#y():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return b(this.#o,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return b(this.#o,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#R(),this.#o.removeObserver(this)}setOptions(e){let t=this.options,s=this.#o;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,o.Eh)(this.options.enabled,this.#o))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#o.setOptions(this.options),t._defaulted&&!(0,o.f8)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#o,observer:this});let r=this.hasListeners();r&&f(this.#o,s,this.options,t)&&this.#y(),this.updateResult(),r&&(this.#o!==s||(0,o.Eh)(this.options.enabled,this.#o)!==(0,o.Eh)(t.enabled,this.#o)||(0,o.d2)(this.options.staleTime,this.#o)!==(0,o.d2)(t.staleTime,this.#o))&&this.#N();let i=this.#C();r&&(this.#o!==s||(0,o.Eh)(this.options.enabled,this.#o)!==(0,o.Eh)(t.enabled,this.#o)||i!==this.#b)&&this.#k(i)}getOptimisticResult(e){var t,s;let r=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(r,e);return t=this,s=i,(0,o.f8)(t.getCurrentResult(),s)||(this.#t=i,this.#h=this.options,this.#u=this.#o.state),i}getCurrentResult(){return this.#t}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),t?.(s),"promise"!==s||(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#l.status||this.#l.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#o}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#y({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#y(e){this.#w();let t=this.#o.fetch(this.options,e);return e?.throwOnError||(t=t.catch(o.lQ)),t}#N(){this.#j();let e=(0,o.d2)(this.options.staleTime,this.#o);if(o.S$||this.#t.isStale||!(0,o.gn)(e))return;let t=(0,o.j3)(this.#t.dataUpdatedAt,e);this.#x=m.zs.setTimeout(()=>{this.#t.isStale||this.updateResult()},t+1)}#C(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#o):this.options.refetchInterval)??!1}#k(e){this.#R(),this.#b=e,!o.S$&&!1!==(0,o.Eh)(this.options.enabled,this.#o)&&(0,o.gn)(this.#b)&&0!==this.#b&&(this.#g=m.zs.setInterval(()=>{(this.options.refetchIntervalInBackground||h.m.isFocused())&&this.#y()},this.#b))}#v(){this.#N(),this.#k(this.#C())}#j(){this.#x&&(m.zs.clearTimeout(this.#x),this.#x=void 0)}#R(){this.#g&&(m.zs.clearInterval(this.#g),this.#g=void 0)}createResult(e,t){let s;let r=this.#o,i=this.options,n=this.#t,a=this.#u,l=this.#h,c=e!==r?e.state:this.#c,{state:u}=e,h={...u},m=!1;if(t._optimisticResults){let s=this.hasListeners(),n=!s&&g(e,t),a=s&&f(e,r,t,i);(n||a)&&(h={...h,...(0,d.k)(u.data,e.options)}),"isRestoring"===t._optimisticResults&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:v}=h;s=h.data;let j=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===v){let e;n?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(e=n.data,j=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,void 0!==e&&(v="success",s=(0,o.pl)(n?.data,e,t),m=!0)}if(t.select&&void 0!==s&&!j){if(n&&s===a?.data&&t.select===this.#d)s=this.#p;else try{this.#d=t.select,s=t.select(s),s=(0,o.pl)(n?.data,s,t),this.#p=s,this.#a=null}catch(e){this.#a=e}}this.#a&&(x=this.#a,s=this.#p,b=Date.now(),v="error");let R="fetching"===h.fetchStatus,w="pending"===v,N="error"===v,C=w&&R,k=void 0!==s,Q={status:v,fetchStatus:h.fetchStatus,isPending:w,isSuccess:"success"===v,isError:N,isInitialLoading:C,isLoading:C,data:s,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:R,isRefetching:R&&!w,isLoadingError:N&&!k,isPaused:"paused"===h.fetchStatus,isPlaceholderData:m,isRefetchError:N&&k,isStale:y(e,t),refetch:this.refetch,promise:this.#l,isEnabled:!1!==(0,o.Eh)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===Q.status?e.reject(Q.error):void 0!==Q.data&&e.resolve(Q.data)},s=()=>{t(this.#l=Q.promise=(0,p.T)())},i=this.#l;switch(i.status){case"pending":e.queryHash===r.queryHash&&t(i);break;case"fulfilled":("error"===Q.status||Q.data!==i.value)&&s();break;case"rejected":("error"!==Q.status||Q.error!==i.reason)&&s()}}return Q}updateResult(){let e=this.#t,t=this.createResult(this.#o,this.options);this.#u=this.#o.state,this.#h=this.options,void 0!==this.#u.data&&(this.#m=this.#o),!(0,o.f8)(t,e)&&(this.#t=t,this.#n({listeners:(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!this.#f.size)return!0;let r=new Set(s??this.#f);return this.options.throwOnError&&r.add("error"),Object.keys(this.#t).some(t=>this.#t[t]!==e[t]&&r.has(t))})()}))}#w(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#o)return;let t=this.#o;this.#o=e,this.#c=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#n(e){a.jG.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#e.getQueryCache().notify({query:this.#o,type:"observerResultsUpdated"})})}};function g(e,t){return!1!==(0,o.Eh)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&b(e,t,t.refetchOnMount)}function b(e,t,s){if(!1!==(0,o.Eh)(t.enabled,e)&&"static"!==(0,o.d2)(t.staleTime,e)){let r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&y(e,t)}return!1}function f(e,t,s,r){return(e!==t||!1===(0,o.Eh)(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&y(e,s)}function y(e,t){return!1!==(0,o.Eh)(t.enabled,e)&&e.isStaleByTime((0,o.d2)(t.staleTime,e))}var v=i.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),j=()=>i.useContext(v),R=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&!t.isReset()&&(e.retryOnMount=!1)},w=e=>{i.useEffect(()=>{e.clearReset()},[e])},N=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&void 0===e.data||(0,o.GU)(s,[e.error,r])),C=i.createContext(!1),k=()=>i.useContext(C);C.Provider;var Q=e=>{if(e.suspense){let t=e=>"static"===e?e:Math.max(e??1e3,1e3),s=e.staleTime;e.staleTime="function"==typeof s?(...e)=>t(s(...e)):t(s),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}},T=(e,t)=>e.isLoading&&e.isFetching&&!t,P=(e,t)=>e?.suspense&&t.isPending,O=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});class D{constructor(e=""){this.baseUrl=e}async request(e,t={}){let{showToast:s=!0,throwError:r=!1,headers:i={},...n}=t;try{let t;let s=`${this.baseUrl}${e}`,a=await fetch(s,{...n,headers:{"Content-Type":"application/json",...i}}),l=a.headers.get("content-type");if(t=l?.includes("application/json")?await a.json():await a.text(),!a.ok){let e=t?.error||t?.message||`Request failed with status ${a.status}`;if(r)throw Error(e);return{data:null,error:e,status:a.status}}return t}catch(t){let e=t instanceof Error?t.message:"Network error";if(r)throw t;return{data:null,error:e,status:0}}}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,s){return this.request(e,{...s,method:"POST",body:t?JSON.stringify(t):void 0})}async put(e,t,s){return this.request(e,{...s,method:"PUT",body:t?JSON.stringify(t):void 0})}async patch(e,t,s){return this.request(e,{...s,method:"PATCH",body:t?JSON.stringify(t):void 0})}async delete(e,t){return this.request(e,{...t,method:"DELETE"})}}let E=new D(process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000");var I=s(25541);let M=(0,s(62688).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var S=s(53411);function _(){let[e,t]=(0,i.useState)([50,60,70,80,90]),[s,n]=(0,i.useState)([75,78,72,68,65]),[l,h]=(0,i.useState)("tree_planting"),[d,p]=(0,i.useState)(100),m=function(e,t){let s=(0,u.jE)(void 0),[r]=i.useState(()=>new c(s,e));i.useEffect(()=>{r.setOptions(e)},[r,e]);let n=i.useSyncExternalStore(i.useCallback(e=>r.subscribe(a.jG.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=i.useCallback((e,t)=>{r.mutate(e,t).catch(o.lQ)},[r]);if(n.error&&(0,o.GU)(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:l,mutateAsync:n.mutate}}({mutationFn:async e=>await E.post("/api/ai/analyze/correlation",e)}),g=function(e="tree_planting",t=100,s=50){return function(e,t,s){let r=k(),n=j(),l=(0,u.jE)(s),c=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=r?"isRestoring":"optimistic",Q(c),R(c,n),w(n);let h=!l.getQueryCache().get(c.queryHash),[d]=i.useState(()=>new t(l,c)),p=d.getOptimisticResult(c),m=!r&&!1!==e.subscribed;if(i.useSyncExternalStore(i.useCallback(e=>{let t=m?d.subscribe(a.jG.batchCalls(e)):o.lQ;return d.updateResult(),t},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),i.useEffect(()=>{d.setOptions(c)},[c,d]),P(c,p))throw O(c,d,n);if(N({result:p,errorResetBoundary:n,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if(l.getDefaultOptions().queries?._experimental_afterQuery?.(c,p),c.experimental_prefetchInRender&&!o.S$&&T(p,r)){let e=h?O(c,d,n):l.getQueryCache().get(c.queryHash)?.promise;e?.catch(o.lQ).finally(()=>{d.updateResult()})}return c.notifyOnChangeProps?p:d.trackResult(p)}({queryKey:["predict-impact",e,t,s],queryFn:async()=>await E.get(`/api/ai/predict/impact?action=${e}&current_aqi=${t}&current_energy=${s}`),enabled:!!e,staleTime:6e5},x,void 0)}(l,d),b=async()=>{await m.mutateAsync({analysis_type:"correlation",title:"Ph\xe2n t\xedch tương quan M\xf4i trường - Gi\xe1o dục",description:"Ph\xe2n t\xedch mối tương quan giữa chất lượng kh\xf4ng kh\xed v\xe0 kết quả học tập",env_values:e,edu_scores:s})},f=m.data;return(0,r.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-blue-800 mb-2",children:"\uD83E\uDD16 Ph\xe2n T\xedch AI"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Kh\xe1m ph\xe1 mối tương quan giữa m\xf4i trường, gi\xe1o dục v\xe0 năng lượng"})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-blue-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,r.jsx)(I.A,{className:"text-blue-600",size:24}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-blue-900",children:"Ph\xe2n t\xedch Tương Quan"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi\xe1 trị M\xf4i trường (AQI)"}),(0,r.jsx)("input",{type:"text",value:e.join(", "),onChange:e=>t(e.target.value.split(",").map(e=>parseFloat(e.trim())||0)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"50, 60, 70, 80, 90"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Điểm Gi\xe1o dục"}),(0,r.jsx)("input",{type:"text",value:s.join(", "),onChange:e=>n(e.target.value.split(",").map(e=>parseFloat(e.trim())||0)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"75, 78, 72, 68, 65"})]}),(0,r.jsx)("button",{onClick:b,disabled:m.isPending,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:m.isPending?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M,{className:"animate-spin",size:20}),"Đang ph\xe2n t\xedch..."]}):"\uD83D\uDCCA Ph\xe2n t\xedch Tương quan"}),f&&(0,r.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-600",children:"Hệ số Tương quan"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:f.correlation_coefficient.toFixed(3)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-600",children:"R-squared"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[(100*f.r_squared).toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-1",children:"Diễn giải"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:f.interpretation})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-1",children:"Khuyến nghị"}),(0,r.jsx)("p",{className:"text-sm",children:f.recommendation})]})]})})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-green-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,r.jsx)(S.A,{className:"text-green-600",size:24}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-green-900",children:"Dự Đo\xe1n T\xe1c Động"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chọn H\xe0nh động"}),(0,r.jsxs)("select",{value:l,onChange:e=>{h(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,r.jsx)("option",{value:"tree_planting",children:"\uD83C\uDF33 Trồng c\xe2y xanh"}),(0,r.jsx)("option",{value:"solar_installation",children:"☀️ Lắp đặt pin mặt trời"}),(0,r.jsx)("option",{value:"green_education",children:"\uD83D\uDCDA Gi\xe1o dục m\xf4i trường"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AQI Hiện tại"}),(0,r.jsx)("input",{type:"number",value:d,onChange:e=>p(parseInt(e.target.value)||100),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",max:"500"})]}),g.data&&(0,r.jsxs)("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,r.jsx)("h3",{className:"font-semibold text-green-900 mb-3",children:"T\xe1c Động Dự Đo\xe1n:"}),(0,r.jsx)("div",{className:"space-y-2 text-sm",children:Object.entries(g.data.predicted_impact).map(([e,t])=>(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"text-gray-600 capitalize",children:[e.replace(/_/g," "),":"]}),(0,r.jsx)("span",{className:"font-medium text-green-700",children:"number"==typeof t?t.toFixed(1):t})]},e))})]}),(0,r.jsx)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-xs text-yellow-800",children:"\uD83D\uDCA1 Dự đo\xe1n t\xe1c động gi\xfap bạn hiểu r\xf5 hơn về lợi \xedch của c\xe1c h\xe0nh động xanh"})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-lg shadow-lg p-8 text-white",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"✨ Khuyến Nghị H\xe0nh Động Xanh"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"\uD83C\uDF31 Trồng C\xe2y"}),(0,r.jsx)("p",{className:"text-sm",children:"Trồng 500-1000 c\xe2y xanh để cải thiện chất lượng kh\xf4ng kh\xed"})]}),(0,r.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"☀️ Năng Lượng Xanh"}),(0,r.jsx)("p",{className:"text-sm",children:"Lắp đặt 5-10 hệ thống pin mặt trời tại c\xe1c trường học"})]}),(0,r.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"\uD83D\uDCDA Gi\xe1o Dục"}),(0,r.jsx)("p",{className:"text-sm",children:"Mở kh\xf3a học về bảo vệ m\xf4i trường cho học sinh"})]})]})]})]})})}function A(){return(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Đang tải..."}),children:(0,r.jsx)(_,{})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},76713:(e,t,s)=>{"use strict";s.d(t,{d:()=>d,t:()=>h});var r=s(60687),i=s(43210),n=s(5336),a=s(93613),l=s(43649),o=s(96882),c=s(11860);let u=(0,i.createContext)(void 0);function h({children:e}){let[t,s]=(0,i.useState)([]),n=(0,i.useCallback)(e=>{s(t=>t.filter(t=>t.id!==e))},[]),a=(0,i.useCallback)((e,t,r=5e3)=>{let i=Math.random().toString(36).substring(2,9),a={id:i,type:e,message:t,duration:r};console.log("\uD83D\uDD14 Adding toast:",a),s(e=>{let t=[...e,a];return console.log("\uD83D\uDCCB All toasts:",t),t}),r>0&&setTimeout(()=>{n(i)},r)},[n]),l=(0,i.useCallback)((e,t)=>a("success",e,t),[a]),o=(0,i.useCallback)((e,t)=>a("error",e,t),[a]),c=(0,i.useCallback)((e,t)=>a("warning",e,t),[a]),h=(0,i.useCallback)((e,t)=>a("info",e,t),[a]);return(0,r.jsxs)(u.Provider,{value:{toasts:t,addToast:a,removeToast:n,success:l,error:o,warning:c,info:h},children:[e,(0,r.jsx)(p,{toasts:t,removeToast:n})]})}function d(){let e=(0,i.useContext)(u);if(!e)throw Error("useToast must be used within ToastProvider");return e}function p({toasts:e,removeToast:t}){return console.log("\uD83C\uDFAF ToastContainer rendering with toasts:",e.length),(0,r.jsx)("div",{className:"fixed top-4 right-4 flex flex-col gap-2 max-w-sm pointer-events-none",style:{zIndex:999999},children:e.map(e=>(0,r.jsx)("div",{className:"pointer-events-auto",children:(0,r.jsx)(m,{toast:e,onClose:()=>t(e.id)})},e.id))})}function m({toast:e,onClose:t}){let s=(()=>{switch(e.type){case"success":return{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-500",text:"text-green-800 dark:text-green-200",icon:(0,r.jsx)(n.A,{className:"w-5 h-5 text-green-600 dark:text-green-400"})};case"error":return{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-500",text:"text-red-800 dark:text-red-200",icon:(0,r.jsx)(a.A,{className:"w-5 h-5 text-red-600 dark:text-red-400"})};case"warning":return{bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-500",text:"text-yellow-800 dark:text-yellow-200",icon:(0,r.jsx)(l.A,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})};case"info":return{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-500",text:"text-blue-800 dark:text-blue-200",icon:(0,r.jsx)(o.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}}})();return(0,r.jsxs)("div",{className:`${s.bg} ${s.border} ${s.text} border-l-4 rounded-lg shadow-lg p-4 flex items-start gap-3 min-w-[320px] animate-slideIn`,children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:s.icon}),(0,r.jsx)("p",{className:"flex-1 text-sm font-medium",children:e.message}),(0,r.jsx)("button",{onClick:t,className:"flex-shrink-0 hover:opacity-70 transition-opacity",children:(0,r.jsx)(c.A,{className:"w-4 h-4"})})]})}},83423:(e,t,s)=>{Promise.resolve().then(s.bind(s,33124))},94431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>l});var r=s(37413),i=s(7339),n=s.n(i);s(61135);var a=s(61071);let l={title:"CityResQ360 - Bản đồ sống xanh & Gi\xe1o dục m\xf4i trường",description:"Nền tảng gi\xe1o dục m\xf4i trường t\xedch hợp bản đồ 3D hiển thị AQI, năng lượng xanh, v\xe0 c\xe1c h\xe0nh động xanh được đề xuất bởi AI",icons:{icon:"/favicon.ico"}};function o({children:e}){return(0,r.jsx)("html",{lang:"vi",children:(0,r.jsx)("body",{className:n().className,children:(0,r.jsx)(a.default,{children:e})})})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7642],()=>s(18214));module.exports=r})();