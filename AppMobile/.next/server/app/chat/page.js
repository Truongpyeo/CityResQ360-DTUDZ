(()=>{var e={};e.id=8457,e.ids=[8457],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8973:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/chat/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/chat/page.tsx","default")},10041:(e,t,r)=>{Promise.resolve().then(r.bind(r,56058))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12254:(e,t,r)=>{Promise.resolve().then(r.bind(r,90163))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},36074:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(37413),a=r(53384);function n(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute right-0 top-0 -z-1 w-full max-w-[250px] xl:max-w-[450px]",children:(0,s.jsx)(a.default,{width:540,height:254,src:"/images/shape/grid-01.svg",alt:"grid"})}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 -z-1 w-full max-w-[250px] rotate-180 xl:max-w-[450px]",children:(0,s.jsx)(a.default,{width:540,height:254,src:"/images/shape/grid-01.svg",alt:"grid"})})]})}r(61120);var i=r(4536),l=r.n(i);function o(){return(0,s.jsxs)("div",{className:"relative flex flex-col items-center justify-center min-h-screen p-6 overflow-hidden z-1",children:[(0,s.jsx)(n,{}),(0,s.jsxs)("div",{className:"mx-auto w-full max-w-[242px] text-center sm:max-w-[472px]",children:[(0,s.jsx)("h1",{className:"mb-8 font-bold text-gray-800 text-title-md dark:text-white/90 xl:text-title-2xl",children:"ERROR"}),(0,s.jsx)(a.default,{src:"/images/error/404.svg",alt:"404",className:"dark:hidden",width:472,height:152}),(0,s.jsx)(a.default,{src:"/images/error/404-dark.svg",alt:"404",className:"hidden dark:block",width:472,height:152}),(0,s.jsx)("p",{className:"mt-10 mb-6 text-base text-gray-700 dark:text-gray-400 sm:text-lg",children:"We can’t seem to find the page you are looking for!"}),(0,s.jsx)(l(),{href:"/",className:"inline-flex items-center justify-center rounded-lg border border-gray-300 bg-white px-5 py-3.5 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:"Back to Home Page"})]}),(0,s.jsxs)("p",{className:"absolute text-sm text-center text-gray-500 -translate-x-1/2 bottom-6 left-1/2 dark:text-gray-400",children:["\xa9 ",new Date().getFullYear()," - Relieflink"]})]})}},36216:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},36657:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,85814,23)),Promise.resolve().then(r.t.bind(r,46533,23))},39417:(e,t,r)=>{Promise.resolve().then(r.bind(r,61071))},45944:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},55153:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4536,23)),Promise.resolve().then(r.t.bind(r,49603,23))},56058:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(60687),a=r(76713),n=r(39091),i=r(8693),l=r(43210);function o({children:e}){let[t]=(0,l.useState)(()=>new n.E({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1}}}));return(0,s.jsx)(i.Ht,{client:t,children:e})}function d({children:e}){return(0,s.jsx)(a.t,{children:(0,s.jsx)(o,{children:e})})}},61071:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/providers/ClientProviders.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/providers/ClientProviders.tsx","default")},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},76144:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(65239),a=r(48088),n=r(88170),i=r.n(n),l=r(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d={children:["",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8973)),"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/chat/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,36074)),"/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Volumes/MyVolume/Laravel/CityResQ360-DTUDZ/AppMobile/src/app/chat/page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/chat/page",pathname:"/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},76713:(e,t,r)=>{"use strict";r.d(t,{d:()=>h,t:()=>x});var s=r(60687),a=r(43210),n=r(5336),i=r(93613),l=r(43649),o=r(96882),d=r(11860);let c=(0,a.createContext)(void 0);function x({children:e}){let[t,r]=(0,a.useState)([]),n=(0,a.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]),i=(0,a.useCallback)((e,t,s=5e3)=>{let a=Math.random().toString(36).substring(2,9),i={id:a,type:e,message:t,duration:s};console.log("\uD83D\uDD14 Adding toast:",i),r(e=>{let t=[...e,i];return console.log("\uD83D\uDCCB All toasts:",t),t}),s>0&&setTimeout(()=>{n(a)},s)},[n]),l=(0,a.useCallback)((e,t)=>i("success",e,t),[i]),o=(0,a.useCallback)((e,t)=>i("error",e,t),[i]),d=(0,a.useCallback)((e,t)=>i("warning",e,t),[i]),x=(0,a.useCallback)((e,t)=>i("info",e,t),[i]);return(0,s.jsxs)(c.Provider,{value:{toasts:t,addToast:i,removeToast:n,success:l,error:o,warning:d,info:x},children:[e,(0,s.jsx)(m,{toasts:t,removeToast:n})]})}function h(){let e=(0,a.useContext)(c);if(!e)throw Error("useToast must be used within ToastProvider");return e}function m({toasts:e,removeToast:t}){return console.log("\uD83C\uDFAF ToastContainer rendering with toasts:",e.length),(0,s.jsx)("div",{className:"fixed top-4 right-4 flex flex-col gap-2 max-w-sm pointer-events-none",style:{zIndex:999999},children:e.map(e=>(0,s.jsx)("div",{className:"pointer-events-auto",children:(0,s.jsx)(u,{toast:e,onClose:()=>t(e.id)})},e.id))})}function u({toast:e,onClose:t}){let r=(()=>{switch(e.type){case"success":return{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-500",text:"text-green-800 dark:text-green-200",icon:(0,s.jsx)(n.A,{className:"w-5 h-5 text-green-600 dark:text-green-400"})};case"error":return{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-500",text:"text-red-800 dark:text-red-200",icon:(0,s.jsx)(i.A,{className:"w-5 h-5 text-red-600 dark:text-red-400"})};case"warning":return{bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-500",text:"text-yellow-800 dark:text-yellow-200",icon:(0,s.jsx)(l.A,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})};case"info":return{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-500",text:"text-blue-800 dark:text-blue-200",icon:(0,s.jsx)(o.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}}})();return(0,s.jsxs)("div",{className:`${r.bg} ${r.border} ${r.text} border-l-4 rounded-lg shadow-lg p-4 flex items-start gap-3 min-w-[320px] animate-slideIn`,children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:r.icon}),(0,s.jsx)("p",{className:"flex-1 text-sm font-medium",children:e.message}),(0,s.jsx)("button",{onClick:t,className:"flex-shrink-0 hover:opacity-70 transition-opacity",children:(0,s.jsx)(d.A,{className:"w-4 h-4"})})]})}},88694:(e,t,r)=>{Promise.resolve().then(r.bind(r,8973))},90163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(60687),a=r(43210),n=r(68631),i=r(85814),l=r.n(i);function o(){let[e,t]=(0,a.useState)([{id:"1",role:"assistant",content:"Xin ch\xe0o! T\xf4i l\xe0 CivicAI, trợ l\xfd điều phối của CityResQ360. T\xf4i c\xf3 thể gi\xfap bạn chuẩn h\xf3a bi\xean bản phản \xe1nh, ph\xe2n loại mức khẩn cấp, đề xuất quy tr\xecnh xử l\xfd v\xe0 k\xedch hoạt đội phản ứng ph\xf9 hợp.",timestamp:new Date}]),[r,i]=(0,a.useState)(""),[o,d]=(0,a.useState)(!1),c=(0,a.useRef)(null),x=async()=>{if(!r.trim()||o)return;let e={id:Date.now().toString(),role:"user",content:r,timestamp:new Date};t(t=>[...t,e]),i(""),d(!0),setTimeout(()=>{let e={id:(Date.now()+1).toString(),role:"assistant",content:`CivicAI đang m\xf4 phỏng phản hồi cho: "${r}". T\xf4i sẽ gợi \xfd ph\xe2n loại sự cố, mức SLA, đơn vị phụ tr\xe1ch v\xe0 th\xf4ng b\xe1o m\xe0 bạn c\xf3 thể gửi tới cư d\xe2n.`,timestamp:new Date};t(t=>[...t,e]),d(!1)},1e3)};return(0,s.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)("header",{className:"bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800",children:(0,s.jsx)("div",{className:"px-4 py-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(l(),{href:"/",className:"flex items-center gap-2",children:[(0,s.jsx)("img",{src:"/images/logo/logo.svg",alt:"CityResQ360",className:"h-8 w-auto"}),(0,s.jsx)("span",{className:"text-lg font-bold bg-gradient-to-r from-brand-600 to-brand-500 bg-clip-text text-transparent",children:"CityResQ360"})]}),(0,s.jsx)("span",{className:"text-gray-400",children:"|"}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"\uD83E\uDD16 CivicAI Copilot"})]}),(0,s.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,s.jsx)(l(),{href:"/map",className:"text-sm text-gray-600 hover:text-brand-600 dark:text-gray-400 dark:hover:text-brand-400",children:"Bản đồ"}),(0,s.jsx)(l(),{href:"/actions",className:"text-sm text-gray-600 hover:text-brand-600 dark:text-gray-400 dark:hover:text-brand-400",children:"Chiến dịch"}),(0,s.jsx)(l(),{href:"/recommendations",className:"text-sm text-gray-600 hover:text-brand-600 dark:text-gray-400 dark:hover:text-brand-400",children:"Kịch bản AI"})]})]})})}),(0,s.jsxs)("div",{className:"flex-1 overflow-hidden flex flex-col",children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-6 mx-auto max-w-4xl w-full",children:(0,s.jsxs)("div",{className:"space-y-4",children:[e.map(e=>(0,s.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,s.jsxs)("div",{className:`max-w-[80%] rounded-xl p-4 ${"user"===e.role?"bg-gradient-to-r from-brand-500 to-brand-600 text-white":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700"}`,children:[(0,s.jsx)("p",{className:"whitespace-pre-wrap break-words",children:e.content}),(0,s.jsx)("p",{className:`mt-2 text-xs ${"user"===e.role?"text-white/70":"text-gray-500 dark:text-gray-400"}`,children:e.timestamp.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]})},e.id)),o&&(0,s.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),(0,s.jsx)("div",{ref:c})]})}),(0,s.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950",children:(0,s.jsxs)("div",{className:"px-4 py-4 mx-auto max-w-4xl",children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x())},placeholder:"Nhập c\xe2u hỏi về phản \xe1nh, cảnh b\xe1o hoặc quy tr\xecnh xử l\xfd sự cố...",className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-brand-500 focus:border-transparent",disabled:o}),(0,s.jsx)(n.P.button,{onClick:x,disabled:!r.trim()||o,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 font-semibold text-white transition-all rounded-xl bg-gradient-to-r from-brand-500 to-brand-600 hover:shadow-lg hover:shadow-brand-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Gửi"})]}),(0,s.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-center",children:"Nhấn Enter để gửi, Shift+Enter để xuống d\xf2ng"})]})})]})]})}},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>l});var s=r(37413),a=r(7339),n=r.n(a);r(61135);var i=r(61071);let l={title:"CityResQ360 - Bản đồ sống xanh & Gi\xe1o dục m\xf4i trường",description:"Nền tảng gi\xe1o dục m\xf4i trường t\xedch hợp bản đồ 3D hiển thị AQI, năng lượng xanh, v\xe0 c\xe1c h\xe0nh động xanh được đề xuất bởi AI",icons:{icon:"/favicon.ico"}};function o({children:e}){return(0,s.jsx)("html",{lang:"vi",children:(0,s.jsx)("body",{className:n().className,children:(0,s.jsx)(i.default,{children:e})})})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7642,8631],()=>r(76144));module.exports=s})();