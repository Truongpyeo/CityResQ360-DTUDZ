(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8457],{2047:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var r=t(5155),s=t(2115),i=t(2900),n=t(6874),l=t.n(n);function d(){let[e,a]=(0,s.useState)([{id:"1",role:"assistant",content:"Xin ch\xe0o! T\xf4i l\xe0 CivicAI, trợ l\xfd điều phối của CityResQ360. T\xf4i c\xf3 thể gi\xfap bạn chuẩn h\xf3a bi\xean bản phản \xe1nh, ph\xe2n loại mức khẩn cấp, đề xuất quy tr\xecnh xử l\xfd v\xe0 k\xedch hoạt đội phản ứng ph\xf9 hợp.",timestamp:new Date}]),[t,n]=(0,s.useState)(""),[d,c]=(0,s.useState)(!1),o=(0,s.useRef)(null),x=()=>{var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,s.useEffect)(()=>{x()},[e]);let h=async()=>{if(!t.trim()||d)return;let e={id:Date.now().toString(),role:"user",content:t,timestamp:new Date};a(a=>[...a,e]),n(""),c(!0),setTimeout(()=>{let e={id:(Date.now()+1).toString(),role:"assistant",content:'CivicAI đang m\xf4 phỏng phản hồi cho: "'.concat(t,'". T\xf4i sẽ gợi \xfd ph\xe2n loại sự cố, mức SLA, đơn vị phụ tr\xe1ch v\xe0 th\xf4ng b\xe1o m\xe0 bạn c\xf3 thể gửi tới cư d\xe2n.'),timestamp:new Date};a(a=>[...a,e]),c(!1)},1e3)};return(0,r.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsx)("header",{className:"bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800",children:(0,r.jsx)("div",{className:"px-4 py-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(l(),{href:"/",className:"flex items-center gap-2",children:[(0,r.jsx)("img",{src:"/images/logo/logo.svg",alt:"CityResQ360",className:"h-8 w-auto"}),(0,r.jsx)("span",{className:"text-lg font-bold bg-gradient-to-r from-brand-600 to-brand-500 bg-clip-text text-transparent",children:"CityResQ360"})]}),(0,r.jsx)("span",{className:"text-gray-400",children:"|"}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"\uD83E\uDD16 CivicAI Copilot"})]}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,r.jsx)(l(),{href:"/map",className:"text-sm text-gray-600 hover:text-brand-600 dark:text-gray-400 dark:hover:text-brand-400",children:"Bản đồ"}),(0,r.jsx)(l(),{href:"/actions",className:"text-sm text-gray-600 hover:text-brand-600 dark:text-gray-400 dark:hover:text-brand-400",children:"Chiến dịch"}),(0,r.jsx)(l(),{href:"/recommendations",className:"text-sm text-gray-600 hover:text-brand-600 dark:text-gray-400 dark:hover:text-brand-400",children:"Kịch bản AI"})]})]})})}),(0,r.jsxs)("div",{className:"flex-1 overflow-hidden flex flex-col",children:[(0,r.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-6 mx-auto max-w-4xl w-full",children:(0,r.jsxs)("div",{className:"space-y-4",children:[e.map(e=>(0,r.jsx)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"max-w-[80%] rounded-xl p-4 ".concat("user"===e.role?"bg-gradient-to-r from-brand-500 to-brand-600 text-white":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700"),children:[(0,r.jsx)("p",{className:"whitespace-pre-wrap break-words",children:e.content}),(0,r.jsx)("p",{className:"mt-2 text-xs ".concat("user"===e.role?"text-white/70":"text-gray-500 dark:text-gray-400"),children:e.timestamp.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]})},e.id)),d&&(0,r.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),(0,r.jsx)("div",{ref:o})]})}),(0,r.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950",children:(0,r.jsxs)("div",{className:"px-4 py-4 mx-auto max-w-4xl",children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())},placeholder:"Nhập c\xe2u hỏi về phản \xe1nh, cảnh b\xe1o hoặc quy tr\xecnh xử l\xfd sự cố...",className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-brand-500 focus:border-transparent",disabled:d}),(0,r.jsx)(i.P.button,{onClick:h,disabled:!t.trim()||d,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 font-semibold text-white transition-all rounded-xl bg-gradient-to-r from-brand-500 to-brand-600 hover:shadow-lg hover:shadow-brand-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Gửi"})]}),(0,r.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-center",children:"Nhấn Enter để gửi, Shift+Enter để xuống d\xf2ng"})]})})]})]})}},3322:(e,a,t)=>{Promise.resolve().then(t.bind(t,2047))}},e=>{var a=a=>e(e.s=a);e.O(0,[6874,2900,8441,1684,7358],()=>a(3322)),_N_E=e.O()}]);